<section th:fragment="content" class="flex-1 p-6 overflow-y-auto">
    <div class="max-w-7xl mx-auto rounded-lg shadow-xl overflow-hidden md:flex md:gap-x-8">

        <!-- Left Section: Payment Form -->
        <div class="w-full md:w-2/5 p-6 md:p-10 bg-white rounded-l-lg">
            <h1 class="text-2xl md:text-3xl font-semibold text-gray-800 mb-8">Purchase order</h1>

            <div class="mb-8">
                <h2 class="text-xl md:text-2xl font-medium text-gray-700 mb-6">Payment form</h2>

                <div class="space-y-5">
                    <!-- Supplier -->
                    <div>
                        <label for="Supplier" class="block text-sm font-medium text-gray-600 mb-1">Supplier</label>
                        <input type="text" id="Supplier" value="" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>

                    <!-- Ship to -->
                    <div>
                        <label for="shipTo" class="block text-sm font-medium text-gray-600 mb-1">Ship to</label>
                        <select id="shipTo" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Loading...</option>
                        </select>
                    </div>

                    <!-- Invoice No -->
                    <div>
                        <label for="invoiceNo" class="block text-sm font-medium text-gray-600 mb-1">Invoice No</label>
                        <input type="text" id="invoiceNo" value="" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>

                    <!-- Payment -->
                    <div>
                        <label for="payment" class="block text-sm font-medium text-gray-600 mb-1">Payment</label>
                        <select id="payment" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Loading...</option>
                        </select>
                    </div>

                    <!-- No with QR button -->
                    <div>
                            <label for="number" class="block text-sm font-medium text-gray-600 mb-1">Bank No</label>
                            <div class="flex items-center space-x-2">
                            <input type="text" id="number" value="" class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <button class="bg-gray-800 text-white px-5 py-3 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 shadow-md">show QR</button>
                        </div>
                    </div>

                    <!-- Grand Total -->
                    <div>
                        <label for="grandTotal" class="block text-sm font-medium text-gray-600 mb-1">Grand Total</label>
                        <input type="text" id="grandTotal" value="" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" readonly>
                    </div>

                    <!-- Status -->
                    <div>
                        <label for="status" class="block text-sm font-medium text-gray-600 mb-1">Status</label>
                        <input type="text" id="status" value="" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" readonly>
                    </div>
                </div>

                <!-- Continue Button -->
                <button id="continueButton" class="mt-8 w-full bg-gray-800 text-white text-lg py-3 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 shadow-md">Continue</button>
            </div>
        </div>

        <!-- Right Section: Invoice Receipt Preview -->
        <div id="invoiceReceipt" class="w-full md:w-3/5 p-6 md:p-10 bg-white rounded-r-lg flex flex-col shadow-md">
            <div class="flex justify-between items-start mb-6">
                <div>
                    <h3 class="text-lg font-semibold text-gray-800" id="receiptSupplierName">Supplier Name</h3>
                    <p class="text-sm text-gray-600" >Payment type</p>
                    <p class="text-sm text-gray-600" id="receiptSupplierPaymentMethod">Bank Tranfer</p>
                </div>
                <h2 class="text-xl md:text-2xl font-bold text-gray-800">RECEIPT</h2>
            </div>

            <div class="grid grid-cols-2 gap-4 mb-6 text-sm text-gray-700">
                <div>
                    <p><span class="font-semibold">Bill To</span></p>
                    <p id="receiptBillToName">Supplier name</p>
                </div>
                <div>
                    <p><span class="font-semibold">Ship To</span></p>
                    <p id="receiptShipToName">Warehouse</p>

                </div>
                <div>
                    <p><span class="font-semibold">Invoice #:</span> <span id="receiptInvoiceNo">Inv-12837</span></p>
                    <p><span class="font-semibold">Invoice Date:</span> <span id="receiptInvoiceDate">21/2/2025</span></p>
                </div>
                <div>
                    <p><span class="font-semibold">Payment Status:</span> <span>Paid</span></p>
                    <p><span class="font-semibold">Payment Date:</span> <span id="receiptPaymentDate">21/2/2025</span></p>
                </div>
            </div>

            <!-- Product Table -->
            <div id="invoiceTableContainer" class="overflow-x-auto rounded-lg border border-gray-200 shadow-sm flex-grow invoice-scroll-area">
                <table class="min-w-full divide-y divide-gray-200" id="receiptProductTable">
                    <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">PRODUCT</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ATTRIBUTE</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">QTY</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">AMOUNT</th>
                    </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="receiptProductBody">
                    <!-- Product rows will be injected here dynamically -->
                    </tbody>
                </table>
            </div>

            <!-- Totals -->
            <div class="mt-6 self-end w-full max-w-xs text-sm text-gray-700">
                <div class="flex justify-between mb-2">
                    <span>Sub Total</span>
                    <span class="font-medium" id="receiptSubTotal">$0.00</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span>Sales Tax</span>
                    <span class="font-medium" id="receiptSalesTax">Included</span>
                </div>
                <div class="flex justify-between font-bold text-base border-t border-gray-300 pt-2">
                    <span>Grand Total</span>
                    <span id="receiptGrandTotal">$0.00</span>
                </div>
            </div>

            <!-- Terms & Conditions -->
            <div class="mt-8 text-xs text-gray-500">
                <p class="font-semibold mb-1">Terms & Conditions</p>
                <p>Payment is due within 15 Days</p>
                <p class="mt-2">Please make payment to: supplier name</p>
            </div>
        </div>
    </div>

    <!-- QR Code Overlay -->
    <div id="qrOverlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background: rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000;">
        <div style="position:relative; background:#fff; padding:20px; border-radius:8px; max-width:300px; text-align:center;">
            <button id="closeQrOverlay" style="position:absolute; top:8px; right:8px; font-size:18px; background:none; border:none; cursor:pointer;">✖️</button>
            <img id="qrImage" src="" alt="QR Code" style="max-width:100%; height:auto;" />
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script th:src="@{/js/ajaxhelper.js}"></script>

    <script th:src="@{/js/purchase-form/purchasePayment-form.js}"></script>
</section>
