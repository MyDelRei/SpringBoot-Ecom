<div th:fragment="sidebar" id="sidebar"
     class="sidebar bg-white w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out overflow-y-auto shadow-lg"
     xmlns:th="http://www.thymeleaf.org">

  <div class="flex items-center justify-between px-4">
    <div class="flex items-center">
      <img src="/img/logo2.png" alt="Cyber Logo" class="w-[30px] h-[50px] mr-3">
      <span class="text-indigo-600 text-2xl font-semibold">Cyber</span>
    </div>
  </div>

  <nav class="space-y-2">

    <div class="nav-item-wrapper w-full px-2 py-1"
         th:classappend="${currentUri == '/' ? 'active' : ''}">
      <a th:href="@{/}" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center">
        <i class="fa-brands fa-squarespace mr-3"></i> Dashboard
      </a>
    </div>

    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/brands') || currentUri.startsWith('/brands/add-brand') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between product-toggle">
        <span><i class="fas fa-box-open mr-3"></i> Product</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>
      <div class="product-menu pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/brands') || currentUri.startsWith('/category') || currentUri.startsWith('/product') || currentUri.startsWith('/attributes') || currentUri.startsWith('/sku')  ? 'block' : 'hidden'}">
        <a th:href="@{/brands}"
           th:classappend="${currentUri == '/brands' || currentUri == '/brands/add-brand' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Brand</a>
        <a th:href="@{/category}"
           th:classappend="${currentUri == '/category' || currentUri == '/category/add-category' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Category</a>
        <a th:href="@{/product}" th:classappend="${currentUri == '/product' || currentUri == '/product/add-product' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Product</a>
        <a th:href="@{/attributes}" th:classappend="${currentUri == '/attributes' || currentUri == '/attributes/add-attributes' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Attribute</a>
        <a th:href="@{/sku}"
           th:classappend="${currentUri == '/sku' || currentUri == '/sku/add-sku' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">SKU</a>
        <a th:href="@{/sku-att/sku-list}"
         th:classappend="${currentUri == '/sku-att/sku-list' || currentUri == '/sku-att/add-sku-att' || currentUri == '/sku-att/update' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
         class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">SKU Attribute</a>
      </div>
    </div>

    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/supplier') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between inventory-toggle">
        <span><i class="fa-solid fa-user mr-3"></i> Supplier</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>

      <div class="inventory-menu pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/supplier') || currentUri.startsWith('/payment-list') ||   currentUri.startsWith('/Request')? 'block' : 'hidden'}">

        <a th:href="@{/supplier}"
           th:classappend="${currentUri == '/supplier' || currentUri == '/supplier/list-supplier' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Supplier</a>

        <a th:href="@{/supplier/payment-method}"
           th:classappend="${currentUri == '/supplier/payment-method' || currentUri == '/supplier/add-payment-method' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Supplier Payment Method</a>


        <a th:href="@{/Request}"
           th:classappend="${currentUri == '/Request' || currentUri == '/Request/purchase' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Request product</a>

        <a th:href="@{/payment-list}"
           th:classappend="${currentUri == 'payment-list' || currentUri == '' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Purchase Payment</a>

      </div>
    </div>


    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/warehouse') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between inventory-toggle">
        <span><i class="fas fa-warehouse mr-3"></i> Inventory</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>

      <div class="inventory-menu pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/warehouse') || currentUri.startsWith('/stock') || currentUri.startsWith('/location')? 'block' : 'hidden'}">

        <a th:href="@{/warehouse}"
           th:classappend="${currentUri == '/warehouse' || currentUri == '/warehouse/add-warehouse' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Warehouse</a>

        <a th:href="@{/location}"
           th:classappend="${currentUri == '/location' || currentUri == '/location/add' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Warehouse manage</a>

        <a th:href="@{/stock}"
           th:classappend="${currentUri == '/stock' || currentUri == '/location/add' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Stock product</a>



      </div>
    </div>







  </nav>
</div>