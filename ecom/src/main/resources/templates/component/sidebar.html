<div th:fragment="sidebar" id="sidebar"
     class="sidebar bg-white w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out overflow-y-auto shadow-lg"
     xmlns:th="http://www.thymeleaf.org">

  <div class="flex items-center justify-between px-4">
    <div class="flex items-center">
      <img src="https://placehold.co/40x40/6366f1/ffffff?text=C" alt="Cyber Logo" class="h-10 w-10 mr-3 rounded-full">
      <span class="text-indigo-600 text-2xl font-semibold">Cyber</span>
    </div>
  </div>

  <nav class="space-y-2">

    <div class="nav-item-wrapper w-full px-2 py-1"
         th:classappend="${currentUri == '/' ? 'active' : ''}">
      <a th:href="@{/}" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center">
        <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
      </a>
    </div>

    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/brands') || currentUri.startsWith('/brands/add-brand') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between product-toggle">
        <span><i class="fas fa-box-open mr-3"></i> Product</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>
      <div class="product-menu pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/brands') || currentUri.startsWith('/brands/add-brand') ? 'block' : 'hidden'}">
        <a th:href="@{/brands}"
           th:classappend="${currentUri == '/brands' || currentUri == '/brands/add-brand' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Brand</a>
        <a th:href="@{/category}"
           th:classappend="${currentUri == '/category' || currentUri == '/category/add-category' ? 'bg-indigo-100 text-indigo-700 font-semibold' : ''}"
           class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Category</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Product</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Attribute</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Sku listing</a>
      </div>
    </div>

    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/inventory') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between inventory-toggle">
        <span><i class="fas fa-warehouse mr-3"></i> Inventory</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>
      <div class="inventory-menu pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/inventory') ? 'block' : 'hidden'}">
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Supplier</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Warehouse</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Request product</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Warehouse manage</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Stock product</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Invoice detail</a>
      </div>
    </div>

    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/orders') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between orders-toggle">
        <span><i class="fas fa-receipt mr-3"></i> Orders</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>
      <div class="orders-menu pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/orders') ? 'block' : 'hidden'}">
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Order list</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Payment checking</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Packaging</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Shipping method</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Shipping detail</a>
      </div>
    </div>

    <div class="nav-item-wrapper w-full relative group px-2 py-1"
         th:classappend="${currentUri.startsWith('/more-orders') ? 'open' : ''}">
      <a href="#" class="nav-link block py-2.5 px-4 rounded-md text-sm font-medium text-gray-700 flex items-center justify-between more-orders-toggle">
        <span><i class="fas fa-receipt mr-3"></i> Orders</span>
        <i class="fas fa-chevron-down text-xs ml-auto transition-transform duration-200 group-[.open]:rotate-180"></i>
      </a>
      <div class="more-orders-menu hidden pl-8 mt-1 space-y-1"
           th:classappend="${currentUri.startsWith('/more-orders') ? 'block' : 'hidden'}">
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Sub-Order 1</a>
        <a href="#" class="block py-2 px-4 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition duration-200">Sub-Order 2</a>
      </div>
    </div>
  </nav>
</div>